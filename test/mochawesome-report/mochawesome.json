{
  "stats": {
    "suites": 6,
    "tests": 5,
    "passes": 4,
    "pending": 0,
    "failures": 1,
    "start": "2020-05-30T07:43:51.174Z",
    "end": "2020-05-30T07:43:51.307Z",
    "duration": 133,
    "testsRegistered": 5,
    "passPercent": 80,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "286c4bf9-f1c5-4546-8f08-a8707eb0765a",
      "title": "",
      "fullFile": "",
      "file": "",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "92d703ff-caee-40a1-abb2-419a0b370142",
          "title": "1. 输入参数检测",
          "fullFile": "/Volumes/A/projects/swagger-toolkit/test/index.js",
          "file": "/index.js",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "f193c803-ee20-42bb-9c2b-1fb95e39386b",
              "title": "1-1. 当前执行环境不是项目根目录",
              "fullFile": "/Volumes/A/projects/swagger-toolkit/test/index.js",
              "file": "/index.js",
              "beforeHooks": [
                {
                  "title": "\"before all\" hook",
                  "fullTitle": "1. 输入参数检测 1-1. 当前执行环境不是项目根目录 \"before all\" hook",
                  "timedOut": false,
                  "duration": 1,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "await fs.unlink(path.resolve(process.cwd(), './package.json'), err => {})",
                  "err": {},
                  "uuid": "48d1ad95-6dcf-4062-a908-2818f0b3afe1",
                  "parentUUID": "f193c803-ee20-42bb-9c2b-1fb95e39386b",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "afterHooks": [
                {
                  "title": "\"after all\" hook",
                  "fullTitle": "1. 输入参数检测 1-1. 当前执行环境不是项目根目录 \"after all\" hook",
                  "timedOut": false,
                  "duration": 0,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "await fs.writeFile(path.resolve(process.cwd(), './package.json'), '', err => {})",
                  "err": {},
                  "uuid": "c71cd386-f511-4d1e-a061-0b4a060701a6",
                  "parentUUID": "f193c803-ee20-42bb-9c2b-1fb95e39386b",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "tests": [
                {
                  "title": "应该抛出自定义异常",
                  "fullTitle": "1. 输入参数检测 1-1. 当前执行环境不是项目根目录 应该抛出自定义异常",
                  "timedOut": false,
                  "duration": 2,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const tool = new SwaggerTool('', null, null)\ntry {\n    await tool.run()\n} catch(err) {\n    isThrow()\n    isCustomErr(err)\n}",
                  "err": {},
                  "uuid": "d704cfbd-edcd-41e8-9deb-7757f65a2f07",
                  "parentUUID": "f193c803-ee20-42bb-9c2b-1fb95e39386b",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "d704cfbd-edcd-41e8-9deb-7757f65a2f07"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 2,
              "root": false,
              "rootEmpty": false,
              "_timeout": 5000
            },
            {
              "uuid": "72300733-0e7a-4830-81a2-3c956cfb9e03",
              "title": "1-2. 未指定配置文件目录和自定义配置",
              "fullFile": "/Volumes/A/projects/swagger-toolkit/test/index.js",
              "file": "/index.js",
              "beforeHooks": [
                {
                  "title": "\"before all\" hook",
                  "fullTitle": "1. 输入参数检测 1-2. 未指定配置文件目录和自定义配置 \"before all\" hook",
                  "timedOut": false,
                  "duration": 0,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "await fs.unlink(path.resolve(process.cwd(), configFilePath), err => {})",
                  "err": {},
                  "uuid": "d6bcd7ae-cf40-4430-ae1a-46d66614e3a2",
                  "parentUUID": "72300733-0e7a-4830-81a2-3c956cfb9e03",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "afterHooks": [
                {
                  "title": "\"after all\" hook",
                  "fullTitle": "1. 输入参数检测 1-2. 未指定配置文件目录和自定义配置 \"after all\" hook",
                  "timedOut": false,
                  "duration": 0,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "await fs.writeFile(path.resolve(process.cwd(), configFilePath), '', err => {})",
                  "err": {},
                  "uuid": "74be50d3-22e0-4983-b0ae-23965451fb6e",
                  "parentUUID": "72300733-0e7a-4830-81a2-3c956cfb9e03",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "tests": [
                {
                  "title": "应该抛出自定义异常",
                  "fullTitle": "1. 输入参数检测 1-2. 未指定配置文件目录和自定义配置 应该抛出自定义异常",
                  "timedOut": false,
                  "duration": 1,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const tool = new SwaggerTool('', null, null)\ntry {\n    await tool.run()\n} catch (err) {\n    isThrow()\n    isCustomErr(err)\n}",
                  "err": {},
                  "uuid": "5d67b2a6-5386-4926-a512-21b51c8a2d7e",
                  "parentUUID": "72300733-0e7a-4830-81a2-3c956cfb9e03",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "5d67b2a6-5386-4926-a512-21b51c8a2d7e"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 1,
              "root": false,
              "rootEmpty": false,
              "_timeout": 5000
            },
            {
              "uuid": "0529f346-7c04-46af-8903-d351ed30e330",
              "title": "1-3. 指定的配置文件格式错误",
              "fullFile": "/Volumes/A/projects/swagger-toolkit/test/index.js",
              "file": "/index.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "应该抛出自定义异常",
                  "fullTitle": "1. 输入参数检测 1-3. 指定的配置文件格式错误 应该抛出自定义异常",
                  "timedOut": false,
                  "duration": 0,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const tool = new SwaggerTool('./aaaaa.jsc', null, null)\ntry {\n    await tool.run()\n} catch (err) {\n    isThrow()\n    isCustomErr(err)\n}",
                  "err": {},
                  "uuid": "98e7ae3a-b6b7-4ad9-b26a-b97bfffad8dc",
                  "parentUUID": "0529f346-7c04-46af-8903-d351ed30e330",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "98e7ae3a-b6b7-4ad9-b26a-b97bfffad8dc"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 0,
              "root": false,
              "rootEmpty": false,
              "_timeout": 5000
            },
            {
              "uuid": "df4f1dac-2b32-4cb3-86f7-80da3e5208e3",
              "title": "1-4. 指定的配置文件不存在",
              "fullFile": "/Volumes/A/projects/swagger-toolkit/test/index.js",
              "file": "/index.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "应该抛出自定义异常",
                  "fullTitle": "1. 输入参数检测 1-4. 指定的配置文件不存在 应该抛出自定义异常",
                  "timedOut": false,
                  "duration": 1,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const tool = new SwaggerTool('./aaaaa.js', null, null)\ntry {\n    await tool.run()\n} catch (err) {\n    isThrow()\n    isCustomErr(err)\n}",
                  "err": {},
                  "uuid": "77ebc0cd-d319-4f64-a7ce-b75974c7b5a0",
                  "parentUUID": "df4f1dac-2b32-4cb3-86f7-80da3e5208e3",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "77ebc0cd-d319-4f64-a7ce-b75974c7b5a0"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 1,
              "root": false,
              "rootEmpty": false,
              "_timeout": 5000
            },
            {
              "uuid": "115f09bf-ddb9-4a52-aedd-13fe1eb1cd69",
              "title": "1-5. 将 doc.json 下载到本地指定文件中",
              "fullFile": "/Volumes/A/projects/swagger-toolkit/test/index.js",
              "file": "/index.js",
              "beforeHooks": [
                {
                  "title": "\"before all\" hook",
                  "fullTitle": "1. 输入参数检测 1-5. 将 doc.json 下载到本地指定文件中 \"before all\" hook",
                  "timedOut": false,
                  "duration": 0,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "await removeDocJson(docJSONPath)",
                  "err": {},
                  "uuid": "455522d5-93cf-4eaa-aabb-c6839d29c1de",
                  "parentUUID": "115f09bf-ddb9-4a52-aedd-13fe1eb1cd69",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "afterHooks": [
                {
                  "title": "\"after all\" hook",
                  "fullTitle": "1. 输入参数检测 1-5. 将 doc.json 下载到本地指定文件中 \"after all\" hook",
                  "timedOut": false,
                  "duration": 0,
                  "state": null,
                  "speed": null,
                  "pass": false,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "await createDocJson(docJSONPath)",
                  "err": {},
                  "uuid": "b0093981-5ea3-43d1-a22b-c9c41e631246",
                  "parentUUID": "115f09bf-ddb9-4a52-aedd-13fe1eb1cd69",
                  "isHook": true,
                  "skipped": false
                }
              ],
              "tests": [
                {
                  "title": "应该将 doc.json 下载到本地",
                  "fullTitle": "1. 输入参数检测 1-5. 将 doc.json 下载到本地指定文件中 应该将 doc.json 下载到本地",
                  "timedOut": false,
                  "duration": 117,
                  "state": "failed",
                  "speed": null,
                  "pass": false,
                  "fail": true,
                  "pending": false,
                  "context": null,
                  "code": "const config = new ConfigOptions({\n    site: 'http://api.lynee.cn',\n    docJSONPath,\n})\nconst tool = new SwaggerTool('', null, null, config)\nawait tool.run()\nconst access = util.promisify(fs.access)\n// 必须返回 Promise, 直接 await 不会执行到\nreturn access(docJSONPath).then(res => {\n    expect(res).to.not.be.undefined\n    return res\n})",
                  "err": {
                    "message": "AssertionError: expected undefined not to be undefined",
                    "estack": "AssertionError: expected undefined not to be undefined\n    at /Volumes/A/projects/swagger-toolkit/test/download/index.js:88:38",
                    "diff": null
                  },
                  "uuid": "ab5eb317-da9d-48d2-b5f8-cb37d935b202",
                  "parentUUID": "115f09bf-ddb9-4a52-aedd-13fe1eb1cd69",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [],
              "failures": [
                "ab5eb317-da9d-48d2-b5f8-cb37d935b202"
              ],
              "pending": [],
              "skipped": [],
              "duration": 117,
              "root": false,
              "rootEmpty": false,
              "_timeout": 5000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 5000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 5000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.2.0"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "6.1.1"
    },
    "marge": {
      "options": null,
      "version": "5.1.0"
    }
  }
}